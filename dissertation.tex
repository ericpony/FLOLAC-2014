\documentclass[12pt,oneside]{book}

\usepackage[a4paper]{geometry}
\setlength{\marginparwidth}{2.75cm}

\usepackage{subfiles}
\def\biblio{\bibliographystyle{dissertation}\bibliography{../bib}\listoftodos}
\def\subfilebiblio{\biblio}
\def\headercorrection{\fancyhfoffset[L]{8pt}\fancyhfoffset[R]{-8pt}}
\def\subfileheadercorrection{\headercorrection}

\usepackage[colorlinks,citecolor=black,urlcolor=black,linkcolor=black,backref=page]{hyperref}
\renewcommand{\chapterautorefname}{Chapter}
\renewcommand{\sectionautorefname}{Section}
\renewcommand{\subsectionautorefname}{Section}
\renewcommand{\figureautorefname}{Figure}

\usepackage[square]{natbib}
\newcommand{\varcitet}[2]{\citeauthor{#1}#2~\citeyearpar{#1}}
\newcommand{\bibnamefont}[1]{\textsc{#1}}
\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{%
  \ifcase #1 \relax%
  \or        {\small$\Lsh$~page~#2}%
  \else      {\small$\Lsh$~pages~#2}%
  \fi}

\usepackage{doi}

\usepackage[UKenglish]{isodate}
\cleanlookdateon

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\textbf{\thechapter}~~~#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\textbf{\thesection}~~~#1}{}}
\fancyhf{}
\fancyhead[LE, RO]{\thepage}
\fancyhead[RE]{\leftmark}
\fancyhead[LO]{\rightmark}
\makeatletter
\renewcommand{\tableofcontents}{%
    \chapter*{\contentsname%
        \@mkboth{\contentsname}{\contentsname}}%
    \@starttoc{toc}%
    }
\makeatother

\usepackage[labelfont=bf,labelsep=quad,font=small]{caption}
\newcommand{\codefigure}{\setlength{\mathindent}{0em}}

\usepackage{graphicx}

\usepackage{tikz}
\usetikzlibrary{matrix,arrows,calc,fadings}
\tikzset{every path/.append style={semithick}}
\begin{tikzfadingfrompicture}[name=fade out, x=25bp, y=25bp]
\fill[color=transparent!10] (-1, -.66) rectangle (1, .66);
\shade[top color=transparent!10, bottom color=transparent!100] (-1, -1) rectangle (1, -.65);
\shade[top color=transparent!100, bottom color=transparent!10] (-1, .65) rectangle (1, 1);
\end{tikzfadingfrompicture}
\tikzset{label on arrow/.style={fill=white, path fading=fade out}}

\usepackage[vskip=0pt]{quoting}
\usepackage[color=yellow,textsize=footnotesize]{todonotes}

\makeatletter
\def\block{\@ifstar\@block\@@block}
\newcommand{\@block}[2]{\noindent\textbf{#1.}\hskip1em #2\hskip1em$\Box$} % \hskip1em(\textit{End of \lowercase{#1}}.)
\newcommand{\@@block}[3]{\noindent\textbf{#1}~(\nobreak\hskip.05em\nobreak\textit{#2}\nobreak\hskip.05em\nobreak)\textbf.\hskip1em #3\hskip1em$\Box$}
\makeatother

\usepackage{enumitem}
\setitemize{leftmargin=*,labelindent=0em,itemsep=.6\parskip,topsep=-.4\parskip,parsep=0pt,partopsep=0pt}

\hyphenation{pa-ra-me-trise}
\hyphenation{pa-ra-me-trised}
\hyphenation{pa-ra-me-tri-sa-tion}
\hyphenation{da-ta-type}
\hyphenation{da-ta-types}

\usepackage{amsmath}
\usepackage[sc]{mathpazo}
\linespread{1.25}
\usepackage{rsfso}
\renewcommand{\emph}{\textbf}
\newcommand{\keyword}{\mathbf}
\newcommand{\constructor}{\mathsf}
\newcommand{\identifier}{\mathit}
\newcommand{\proofterm}[1]{{\color{gray}#1}}
\newlength{\underscorespace}
\setlength{\underscorespace}{.8pt}
\newcommand{\binderbracketl}{[}
\newcommand{\binderbracketr}{]}
\newlength{\binderspace}
\setlength{\binderspace}{.075em}
\newlength{\binderskip}
\setlength{\binderskip}{.2em}
\newlength{\mathindent}
\setlength{\mathindent}{.5\parindent}
\makeatletter
\g@addto@macro\normalsize{%
  \setlength{\parskip}{.4\baselineskip}
  \setlength{\abovedisplayskip}{\medskipamount}
  \setlength{\belowdisplayskip}{\abovedisplayskip}
}
\newcommand{\shorteq}{%
  \settowidth{\@tempdima}{--}%
  \resizebox{\@tempdima}{\height}{=}%
}
\newcommand{\@highlight}[2]{\smash{\text{\colorbox[gray]{#2}{\kern-.1em\vphantom{\vrule height 1.4ex depth 0.3ex}\smash{\ensuremath{#1}}\kern-.1em}}}}
\newcommand{\highlight}[1]{\@highlight{#1}{.85}}
\newcommand{\Highlight}[1]{\@highlight{#1}{.70}}
\makeatother
\DeclareSymbolFont{euler}{U}{eur}{m}{n}
\DeclareMathSymbol{\upsigma}{\mathalpha}{euler}{"1B}
\newcommand{\recordmember}{\kern.08em.\kern.08em}
\newcommand{\reason}[1]{\quad\{\,\text{#1}\,\}}
\newcommand{\categorical}[2]{\mathbb{#1}\textsc{#2}}
\input{processed-agda-preamble}

\begin{document}

\def\subfilebiblio{}
\def\subfileheadercorrection{}

\frontmatter

\title{Analysis and synthesis of inductive families}
\author{Hsiang-Shang Ko}
\maketitle

\tableofcontents

\mainmatter

\subfile{processed-chapter1}
\subfile{processed-chapter2}
\subfile{processed-chapter3}
\subfile{processed-chapter4}
\subfile{processed-chapter5}
\subfile{processed-chapter6}
\subfile{processed-chapter7}

\biblio

\end{document}
