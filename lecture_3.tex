%!TEX encoding = UTF-8 Unicode

\documentclass[t,compress,hyperref={hidelinks}]{beamer}

%include preamble.fmt

\newcommand{\lectureno}{III}

\begin{document}

%include document.fmt

\title{Type theory and logic}
\subtitle{Lecture~\lectureno: Heyting arithmetic}
\date{3 July 2014}
\author{{\fontspec[ExternalLocation=/Library/Fonts/]{DFHeiStd-W5}\href{http://www.cs.ox.ac.uk/people/hsiang-shang.ko/}{柯向上}}}
\institute{\href{http://www.cs.ox.ac.uk/}{Department of Computer Science}\\ \href{http://www.ox.ac.uk/}{University of Oxford}\\ \href{mailto:Hsiang-Shang.Ko@@cs.ox.ac.uk}{Hsiang-Shang.Ko\char64 cs.ox.ac.uk}}

{\usebackgroundtemplate{\includegraphics[width=\paperwidth]{banner.pdf}}
\begin{frame}
\titlepage
\end{frame}}


\begin{frame}{Natural numbers}

\begin{itemize}

\item Formation:
\[ \AXC{}
\rule{|Nat|F}\UIC{|Gamma ENTAILS Nat : U|} \DP \]

\item Introduction:
\[ \AXC{}
\rule{|Nat|IZ}\UIC{|Gamma ENTAILS zero : Nat|} \DP
\qquad
\AXC{|Gamma ENTAILS n : Nat|}
\rule{|Nat|IS}\UIC{|Gamma ENTAILS suc n : Nat|} \DP \]
\end{itemize}

\end{frame}

\begin{frame}{Natural numbers --- elimination rule}

\begin{itemize}

\item Elimination:
\[ \AXC{\begin{tabular}{l}
|Gamma ENTAILS P : Nat -> U| \\
|Gamma ENTAILS z : P SKIP zero| \\
|Gamma ENTAILS s : (Pi x Nat) P x -> P (suc x)| \\
|Gamma ENTAILS n : Nat|
\end{tabular}}
\rule{|Nat|E}\UIC{|Gamma ENTAILS ind P z s n : P n|} \DP \]

Logically this is the \emph{induction principle}; computationally this is \emph{primitive recursion}.

\end{itemize}

\end{frame}

\begin{frame}{Natural numbers --- computation rules}

\begin{itemize}

\item Computation:
\[ \AXC{\begin{tabular}{l}
|Gamma ENTAILS P : Nat -> U| \\
|Gamma ENTAILS z : P SKIP zero| \\
|Gamma ENTAILS s : (Pi x Nat) P x -> P (suc x)| \\
\end{tabular}}
\rule{|Nat|CZ}\UIC{|Gamma ENTAILS ind P z s SKIP zero = z IN P SKIP zero|} \DP \]

\[ \AXC{\begin{tabular}{l}
|Gamma ENTAILS P : Nat -> U| \\
|Gamma ENTAILS z : P SKIP zero| \\
|Gamma ENTAILS s : (Pi x Nat) P x -> P (suc x)| \\
|Gamma ENTAILS n : Nat|
\end{tabular}}
\rule{|Nat|CS}\UIC{|Gamma ENTAILS ind P z s (suc n) = s n (ind P z s n) IN P (suc n)|} \DP \]

\end{itemize}

\end{frame}

\begin{frame}{Identity types}

\begin{itemize}
\item Formation:
\[ \AXC{|Gamma ENTAILS A : U|} \AXC{|Gamma ENTAILS t : A|} \AXC{|Gamma ENTAILS u : A|}
\rule{$\equiv$F}\TIC{|Gamma ENTAILS Id A t u : U|} \DP \]
\item Introduction:
\[ \AXC{|Gamma ENTAILS t : A|}
\rule{$\equiv$I}\UIC{|Gamma ENTAILS refl : Id A t t|} \DP \]
\end{itemize}

\marker{Exercise} Assume |Gamma ENTAILS t = u IN A| and derive \rlap{|Gamma ENTAILS refl : Id A t u|.}

\end{frame}

\begin{frame}{Identity types --- elimination rule}

\begin{itemize}

\item Elimination:
\[ \AXC{\begin{tabular}{l}
|Gamma ENTAILS t : A| \\
|Gamma ENTAILS P : (Pi x A) Id A t x -> U| \\
|Gamma ENTAILS p : P t SKIP refl| \\
|Gamma ENTAILS u : A| \\
|Gamma ENTAILS q : Id A t u|
\end{tabular}}
\rule{$\equiv$E}\UIC{|Gamma ENTAILS J P p q : P u q|} \DP \]

\end{itemize}


\marker{Exercise} Derive
\[ |P : A -> U ENTAILS _ : (Pi x A) (Pi y A) Id A x y -> P x -> P y| \]

\end{frame}

\begin{frame}{Identity types --- computation rule}

\begin{itemize}

\item Computation:
\[\AXC{\begin{tabular}{l}
|Gamma ENTAILS t : A| \\
|Gamma ENTAILS P : (Pi x A) Id A t x -> U| \\
|Gamma ENTAILS p : P t SKIP refl|
\end{tabular}}
\rule{$\equiv$C}\UIC{|Gamma ENTAILS J P p SKIP refl = p IN P t SKIP refl|} \DP \]

\end{itemize}

\end{frame}

\end{document}
